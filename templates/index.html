<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Math Gesture Solver</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <h1> Math Gesture Solver</h1>

  <div class="status">
    <div id="expr">Expression: </div>
    <div id="res">Result: </div>
  </div>

  <div class="container">
    <img src="{{ url_for('video') }}" class="video-feed" />
  </div>

  <div class="req">
    <h2>Guidelines</h2>
    <div id="gesture-table">
      <table>
        <thead>
          <tr>
            <th>Gesture</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1–5 fingers (one hand)</td><td>Digits 1–5</td></tr>
          <tr><td>5 + 1–4 fingers (both hands)</td><td>Digits 6–9</td></tr>
          <tr><td>Only one hand with 0 fingers</td><td>Digit 0</td></tr>
          <tr><td>1 finger on both hands</td><td>+ (add)</td></tr>
          <tr><td>1 + 2 fingers</td><td>- (subtract)</td></tr>
          <tr><td>1 + 3 fingers</td><td>* (multiply)</td></tr>
          <tr><td>1 + 4 fingers</td><td>/ (divide)</td></tr>
          <tr><td>Both hands with 0 fingers</td><td>= (evaluate)</td></tr>
          <tr><td>Both hands with 5 fingers</td><td>Clear input</td></tr>
          <tr><td>Both hands 2 fingers</td><td>Delete input</td></tr>
          <tr><td>Right index &lt; left index (spatial)</td><td>Exit program</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    async function updateStatus() {
      const res = await fetch('/status');
      const data = await res.json();
      document.getElementById('expr').textContent = `Expression: ${data.expression}`;
      document.getElementById('res').textContent = `Result: ${data.result}`;
    }
    setInterval(updateStatus, 1000);
  </script>

  <h1>Thank you</h1>
</body>
</html>
